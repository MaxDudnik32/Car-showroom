const userData=checkLocal();function myFunction(){document.getElementById("myDropdown").classList.toggle("show")}1==checkEntry()&&(document.getElementById("mainMenu").classList.remove("hidden"),document.getElementById("loginNav").classList.add("hidden"),checkOrder()),showCar(),checkStatus(),document.getElementById("login").addEventListener("click",function(){document.getElementById("frame").classList.remove("frame-short"),document.getElementById("frame").classList.remove("frame-middle"),document.getElementById("frame").classList.remove("frame-long"),document.getElementById("nav").classList.remove("nav-up"),document.getElementById("form-signup").classList.remove("form-signup-down"),document.getElementById("success").classList.remove("success-left"),document.getElementById("form-signin").classList.remove("form-signin-left"),document.getElementById("form-signup").classList.remove("form-signup-left"),document.getElementById("logoForm").classList.remove("hidden"),document.getElementById("loginNav").classList.add("hidden"),document.getElementById("signup-inactive").classList.add("signup-inactive"),document.getElementById("signup-inactive").classList.remove("signup-active"),document.getElementById("signin-active").classList.remove("signin-inactive");let e=document.getElementById("form-signup");e.elements.username.value="",e.elements.email.value="",e.elements.password.value="";let t=document.getElementById("form-signin");t.elements.username.value="",t.elements.password.value="",loadSignIn()}),document.getElementById("btnin").addEventListener("click",function(){showSignInForm()}),document.getElementById("btnup").addEventListener("click",function(){showSignForm()}),document.getElementById("btn-signup").addEventListener("click",function(){var e=document.getElementById("form-signup"),t=document.forms.upForm;isValid(checkValid("form-signup"),t,e,!0,!1)}),document.getElementById("btn-signin").addEventListener("click",function(){checkLogin(),setTimeout(checkOrder,3e3)}),document.getElementById("btn-save").addEventListener("click",function(){var e=document.getElementById("form-crud"),t=document.forms.saveForm;isValid(checkValid("form-crud"),t,e,!1,!0)}),document.getElementById("previous").addEventListener("click",function(){previousBtn()}),document.getElementById("carPage").addEventListener("click",function(){!0===checkEntry()?void 0!==activeCar?(document.getElementById("chose-car").classList.remove("hidden"),document.getElementById("chose-car").classList.add("chose-car-flex"),document.getElementById("header").classList.add("opacity"),document.getElementById("main").classList.add("opacity"),charCar()):Swal.fire({icon:"error",title:"Ooops...",text:"You need to choose the car!"}):Swal.fire({icon:"error",title:"Ooops...",text:"Please login to use our website!"})}),window.onclick=function(e){if(!e.target.matches(".dropbtn")&&!e.target.matches(".dropbtntext")){var n=document.getElementsByClassName("dropdown-content");for(let t=0;t<n.length;t++){let e=n[t];e.classList.contains("show")&&e.classList.remove("show")}}};
function Car(i,t){this.mark=i,this.details=t}
const cars=[new Car("Bmw",[new Details("M3",4e4,15),new Details("Engine",1e4,17)]),new Car("Volvo",[new Details("xc60",5e4,9),new Details("Engine",1e4,7)]),new Car("Mazda",[new Details("3",4e4,5),new Details("Engine",1e4,17)]),new Car("Hundai",[new Details("Sonata",4e4,8),new Details("Engine",1e4,17)]),new Car("Chevrolet",[new Details("Camaro",4e4,12),new Details("Engine",1e4,17)]),new Car("Mercedes",[new Details("Gl",2e4,10),new Details("Engine",1e4,17)])];
const categories=[];
function Details(i,t,n){this.name=i,this.price=t,this.count=n}
let mainId,userDatLog,activeCar;const checkOrder=()=>{var n=JSON.parse(localStorage.getItem("users")),e=JSON.parse(localStorage.getItem("loginpers"));if(n)for(let t=0;t<n.length;t++)if(n[t].name===e.nameLog&&n[t].order)for(let e=0;e<n[t].order.length;e++)!1===n[t].order[e].status&&orderMessage(n[t].order,t,n[t])},checkLocal=()=>localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):[],orderMessage=(t,n,s)=>{const a=document.getElementById("chose-car");a.classList.add("padding-car"),a.innerHTML=`
    <div id="close-car-btn" class="close-car">
        <i class="fas fa-times"></i>
    </div>
    `,a.classList.remove("hidden"),document.getElementById("close-car-btn").addEventListener("click",function(){document.getElementById("chose-car").classList.add("hidden")});const e=document.createElement("div");e.classList.add("order-text"),1<t.length?e.innerHTML="You achived "+t.length+" orders!":e.innerHTML="You achived "+t.length+" order!",a.appendChild(e);for(let e=0;e<t.length;e++)if(!1===s.order[e].status){const o=document.createElement("div");o.innerHTML="The order is: "+t[e].carMark+" car "+t[e].carProduct+" model "+t[e].productCount+" count from "+t[e].orderedName,a.appendChild(o)}const d=document.createElement("a");d.classList.add("get-info"),d.classList.add("get-info-car"),d.innerHTML="Accept all",d.addEventListener("click",function(){a.classList.add("hidden");for(let e=0;e<t.length;e++)!1===s.order[e].status&&completeOrder(t[e].carMark,t[e].carProduct,t[e].productCount,t[e].orderedName,n,e)}),a.appendChild(d)},completeOrder=(n,s,a,t,d,e)=>{const o=JSON.parse(localStorage.getItem("users"));o[d].order[e].status=!0;for(let e=0;e<o.length;e++){var i;o[e].name===t&&(i={carName:n,detailName:s,countName:a,orderedName:o[d].name},o[e].bought?o[e].bought.push(i):o[e].bought=[i])}if(localStorage.setItem("users",JSON.stringify(o)),JSON.parse(localStorage.getItem("products"))){let t=JSON.parse(localStorage.getItem("products"));for(let e=0;e<t.length;e++)if(t[e].mark===n){var r=e;for(let e=0;e<t[r].details.length;e++)t[r].details[e].name===s&&(t[0].details[0].count=t[0].details[0].count-a,localStorage.setItem("products",JSON.stringify(t)))}}else for(let e=0;e<cars.length;e++)if(cars[e].mark===n){var c=e;for(let e=0;e<cars[c].details.length;e++)cars[c].details[e].name===s&&(cars[0].details[0].count=cars[0].details[0].count-a,localStorage.setItem("products",JSON.stringify(cars)))}},previousBtn=()=>{unhideElements(),document.getElementById("back-wrapper").classList.add("hidden"),document.getElementById("main-products").classList.remove("main-products"),document.getElementById("main-products").classList.add("hidden"),document.getElementById("info-car").classList.remove("info-car"),document.getElementById("info-car").innerHTML="",document.getElementById("crud").innerHTML="",document.getElementById("show-buy-info").classList.add("hidden")},checkEntry=()=>!!localStorage.getItem("loginpers"),checkManager=()=>JSON.parse(localStorage.getItem("loginpers")).postlog,quit=()=>{Swal.fire({title:"Are you sure?",text:"You want to leave from account!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, quit!"}).then(e=>{e.isConfirmed?(Swal.fire("Congrat!","Your have quited!","success"),localStorage.removeItem("loginpers",JSON.stringify([])),document.getElementById("mainMenu").classList.add("hidden"),document.getElementById("loginNav").classList.remove("hidden"),previousBtn()):Swal.fire("You are still here!")})},changePost=()=>{Swal.fire({title:"Are you sure?",text:"You want to change the status!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change!"}).then(n=>{if(n.isConfirmed){Swal.fire("Congrat!","Your have changed the status","success"),previousBtn();let e=document.getElementById("changePost");n=JSON.parse(localStorage.getItem("loginpers")).postlog;let t=JSON.parse(localStorage.getItem("loginpers"));0==n?(t.postlog=!0,e.innerHTML="Be manager"):(t.postlog=!1,e.innerHTML="Be user"),localStorage.setItem("loginpers",JSON.stringify(t))}else Swal.fire("You are still here!")})},checkStatus=()=>{let e=document.getElementById("changePost"),t;JSON.parse(localStorage.getItem("loginpers"))&&(t=JSON.parse(localStorage.getItem("loginpers")).postlog),0==t?e.innerHTML="Be user":e.innerHTML="Be manager"},hideElements=()=>{const e=document.getElementById("mainCar"),t=document.getElementById("carPage");e.classList.remove("mainCar"),e.classList.add("hidden"),t.classList.remove("carPage"),t.classList.add("hidden")},unhideElements=()=>{const e=document.getElementById("mainCar"),t=document.getElementById("carPage");e.classList.add("mainCar"),e.classList.remove("hidden"),t.classList.add("carPage"),t.classList.remove("hidden")},showCRUD=()=>{document.getElementById("back-wrapper").classList.remove("hidden"),document.getElementById("info-car").classList.remove("info-car"),document.getElementById("info-car").classList.add("hidden"),hideElements(),showUsers()},charCar=()=>{const e=document.getElementById("chose-car");e.innerHTML=`
    <div id="close-btn" class="close">
        <i class="fas fa-times"></i>
    </div>
    `,document.getElementById("close-btn").addEventListener("click",function(){e.classList.add("hidden"),e.classList.remove("chose-car-flex"),document.getElementById("header").classList.remove("opacity"),document.getElementById("main").classList.remove("opacity")});const t=document.createElement("div");t.classList.add("char-car-wrapper"),e.appendChild(t);const n=document.createElement("img");n.src="images/cars/"+(activeCar+1)+".png",n.classList.add("charElements"),t.appendChild(n);const s=document.createElement("a");s.classList.add("get-info"),s.innerHTML="Get more info",s.addEventListener("click",function(){e.classList.add("hidden"),e.classList.remove("chose-car-flex"),document.getElementById("header").classList.remove("opacity"),document.getElementById("main").classList.remove("opacity"),hideElements(),showProductInfo(!0),showProductsDetails(activeCar,0),!(document.getElementById("selected-parents").innerHTML="")===checkManager()&&showUsersToSelect(),document.getElementById("back-wrapper").classList.remove("hidden")}),t.appendChild(s);const a=document.createElement("div");a.classList.add("char-car-wrapper"),e.appendChild(a);const d=document.createElement("img");d.src="images/details1/1.png",d.classList.add("charElements"),d.classList.add("motor-detail"),a.appendChild(d);const o=document.createElement("a");o.classList.add("get-info"),o.innerHTML="Get more info",o.addEventListener("click",function(){e.classList.add("hidden"),e.classList.remove("chose-car-flex"),document.getElementById("header").classList.remove("opacity"),document.getElementById("main").classList.remove("opacity"),hideElements(),showProductInfo(!1),showProductsDetails(activeCar,1),!(document.getElementById("selected-parents").innerHTML="")===checkManager()&&showUsersToSelect(),document.getElementById("back-wrapper").classList.remove("hidden")}),a.appendChild(o)},showProductInfo=e=>{const t=document.getElementById("main-products");t.classList.add("main-products"),t.innerHTML="";const n=document.createElement("div");n.setAttribute("id","car-elements"),n.classList.add("car-elements");const s=document.getElementById("info-car");if(s.classList.add("info-car"),e){const i=document.createElement("img");i.src="images/cars/"+(activeCar+1)+".png",n.appendChild(i),s.innerHTML=cars[activeCar].mark+" car "+cars[activeCar].details[0].name}else{const r=document.createElement("img");r.src="images/details1/1.png",n.appendChild(r),s.innerHTML=cars[activeCar].mark+" car "+cars[activeCar].details[1].name+" detail"}const a=document.createElement("div");a.classList.add("info-car-parent");const d=document.createElement("div");d.setAttribute("id","buy-parent"),d.classList.add("buy-parent");const o=document.createElement("div");o.setAttribute("id","selected-parents"),t.appendChild(n),t.appendChild(a),a.appendChild(d),a.appendChild(o)},showProductsDetails=(e,t)=>{const o=cars[e],i=o.details[t],n=document.getElementById("buy-parent");n.classList.remove("hidden"),n.innerHTML="";const s=document.createElement("div");s.classList.add("name-info"),s.innerHTML=o.mark+" "+i.name,n.appendChild(s);const a=document.createElement("div");a.classList.add("info-product-wrapper"),n.appendChild(a);const d=document.createElement("div");d.innerHTML=i.price+".00 $",d.classList.add("price-info"),a.appendChild(d);const r=document.createElement("div");if(r.innerHTML="("+i.count+" in stock)",a.appendChild(r),!0===checkManager()){const c=document.createElement("div");c.classList.add("buy-btn-wrapper");const l=document.createElement("div");l.classList.add("buy-wrapper"),l.innerHTML='<i class="fas fa-credit-card"></i>';const m=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("id","example"),m.classList.add("buy-input");const u=document.createElement("a");u.innerHTML="Buy now",u.setAttribute("id","buyButton"),u.classList.add("buy-btn"),n.appendChild(c),c.appendChild(m),c.appendChild(l),l.appendChild(u),l.addEventListener("click",function(){var e,t=document.querySelectorAll('[name*="radio"]'),n=document.querySelectorAll('[data-name*="name"]');let s=!1,a;for(e in t)if(t[e].checked)for(var d in userData)n[e].innerHTML===userData[d].name&&(s=!0,a=d);document.getElementById("example").value>i.count?Swal.fire({icon:"error",title:"Oops...",text:"You have choosen to much items"}):1!=s?Swal.fire({icon:"error",title:"Oops...",text:"You need to choose user!"}):showBuyInfo(o,i,a)})}},showUsersToSelect=()=>{const s=document.getElementById("selected-parents");s.classList.remove("hidden"),s.classList.add("selected-parents");document.getElementById("main-products");let e=document.createElement("div");userData.length<2?e.innerHTML="Nobody sells this product":JSON.parse(localStorage.getItem("loginpers")).postlog?e.innerHTML="Choose supplier":e.innerHTML="Choose person to whom you want to sell it",s.appendChild(e);for(let n=0;n<userData.length;n++)if(JSON.parse(localStorage.getItem("users"))[n].name!==JSON.parse(localStorage.getItem("loginpers")).nameLog){const a=document.createElement("div");a.setAttribute("data-id",n),a.classList.add("user");let e=document.createElement("div");e.setAttribute("data-name","name"),e.innerHTML=""+userData[n].name;let t=document.createElement("div");t.setAttribute("data-btn",n),a.appendChild(t),s.appendChild(a),a.appendChild(e);const d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("name","radio"),t.appendChild(d)}},showBuyInfo=(e,t,n)=>{const s=document.getElementById("show-buy-info");s.innerHTML=`
    <div id="close-bucket-btn" class="close-buck">
        <i class="fas fa-times"></i>
    </div>
    `,s.classList.remove("hidden");const a=document.getElementById("close-bucket-btn");a.addEventListener("click",function(){s.classList.add("hidden")});const d=document.createElement("div");d.innerHTML="You have choosen "+e.mark+" car to buy "+t.name,s.appendChild(d);const o=document.createElement("div");o.classList.add("cost-text"),o.innerHTML="Transaction price is: "+t.price+"$ * "+document.getElementById("example").value+"items = "+t.price*document.getElementById("example").value+"$",s.appendChild(o);const i=document.createElement("div");i.innerHTML="You want to buy it from "+userData[n].name+"?",s.appendChild(i);const r=document.createElement("div");r.classList.add("btn-animate"),s.appendChild(r);const c=document.createElement("a");c.innerHTML="Buy",c.classList.add("btn-signin"),c.addEventListener("click",function(){saveOrder(n,t.name,document.getElementById("example").value)}),r.appendChild(c)},saveOrder=(e,t,n)=>{var s=JSON.parse(localStorage.getItem("loginpers")).nameLog,s={carMark:cars[activeCar].mark,carProduct:t,productCount:n,orderedName:s,status:!1};let a=JSON.parse(localStorage.getItem("users")),d=a[e].order;void 0===d?a[e].order=[s]:d.push(s),Swal.fire({icon:"success",title:"Congrat!",text:"You have ordered "+t+" from "+a[e].name}),localStorage.setItem("users",JSON.stringify(a)),document.getElementById("show-buy-info").classList.add("hidden")},showCar=()=>{for(let s=0;s<cars.length;s++){const a=document.getElementById("logoCar"),d=document.getElementById("car");let e=document.createElement("img");e.src="images/cars/"+(s+1)+".png";let t=document.createElement("img");t.classList.add("logoCarImg"),t.setAttribute("data-id",s),0===s?(t.src="images/logos/active"+(s+1)+".png",d.appendChild(e),activeCar=0):t.src="images/logos/"+(s+1)+".png",a.appendChild(t);let n=document.querySelectorAll("[data-id]");n[s].addEventListener("click",function(){let t=document.querySelectorAll("[data-id]");for(let e=0;e<cars.length;e++)s===e?(t[e].src="images/logos/active"+(e+1)+".png",activeCar=s):t[e].src="images/logos/"+(e+1)+".png";for(d.appendChild(e);d.firstChild;)d.removeChild(d.firstChild);d.appendChild(e)})}},showSignForm=()=>{document.getElementById("form-signin").classList.add("form-signin-left"),document.getElementById("form-signup").classList.add("form-signup-left"),document.getElementById("frame").classList.add("frame-long"),document.getElementById("signup-inactive").classList.remove("signup-inactive"),document.getElementById("signup-inactive").classList.add("signup-active"),document.getElementById("signin-active").classList.remove("signin-active"),document.getElementById("signin-active").classList.add("signin-inactive")},showSignInForm=()=>{document.getElementById("form-signin").classList.remove("form-signin-left"),document.getElementById("form-signup").classList.remove("form-signup-left"),document.getElementById("frame").classList.remove("frame-long"),document.getElementById("signup-inactive").classList.remove("signup-active"),document.getElementById("signin-active").classList.remove("signin-inactive"),document.getElementById("signup-inactive").classList.add("signup-inactive"),document.getElementById("signin-active").classList.add("signin-active"),document.getElementById("forgot").classList.remove("forgot-left")},loadSignIn=()=>{document.getElementById("btn-animate").classList.remove("btn-animate-grow"),document.getElementById("welcome").classList.remove("welcome-left"),document.getElementById("profile-photo").classList.remove("profile-photo-down"),document.getElementById("frame").classList.remove("frame-middle"),setTimeout(()=>document.getElementById("logoForm").classList.remove("hidden"),3e3)},showSignUp=(e,t)=>{e?(document.getElementById("nav").classList.toggle("nav-up"),document.getElementById("form-signup").classList.toggle("form-signup-down"),document.getElementById("success").classList.toggle("success-left"),document.getElementById("frame").classList.add("frame-short"),setTimeout(()=>document.getElementById("logoForm").classList.add("hidden"),3e3),document.getElementById("mainMenu").classList.remove("hidden")):(t.classList.add("hidden"),document.getElementById("successsave").classList.toggle("success-left"),document.getElementById("crudframe").classList.remove("framecrud"),document.getElementById("crudframe").classList.add("frame-short"),setTimeout(()=>t.classList.add("hidden"),3e3))},showSave=e=>{e.classList.add("hidden"),document.getElementById("form-crud").classList.remove("form-signin"),document.getElementById("form-crud").classList.add("form-signup-down"),document.getElementById("successsave").classList.add("success-left"),document.getElementById("crudframe").classList.remove("framecrud"),document.getElementById("crudframe").classList.add("frame-short"),setTimeout(()=>document.getElementById("logoForm").classList.add("hidden"),3e3),document.getElementById("mainMenu").classList.remove("hidden")},showSignIn=()=>{document.getElementById("btn-animate").classList.add("btn-animate-grow"),document.getElementById("welcome").classList.add("welcome-left"),document.getElementById("profile-photo").classList.add("profile-photo-down"),document.getElementById("frame").classList.add("frame-middle"),setTimeout(()=>document.getElementById("logoForm").classList.add("hidden"),3e3),document.getElementById("mainMenu").classList.remove("hidden")};function checkValid(e){var t=document.getElementById(e).elements;let n=0,s=0,a;for(let e=0;e<t.length;e++)"INPUT"==t[e].nodeName&&(s++,t[e].value&&n++);return n===s&&(a=!0),a}function isValid(e,t,n,s,a){e?isValidName((t={name:(t=t.elements).username.value,password:t.password.value,email:t.email.value,post:!0}).name)&&isValidPassword(t.password)&&isValidEmail(t.email)?a?(savePerson(t,!0),Swal.fire({icon:"success",title:"Congrats!",text:"Success editing"}),n.classList.add("hidden"),document.getElementById("crudframe").classList.add("hidden")):(savePerson(t,a,!1),showSignUp(s,n)):isValidName(t.name)?isValidEmail(t.email)?isValidPassword(t.password)?Swal.fire({icon:"error",title:"Ooops...",text:"You passwords arent correct"}):Swal.fire({icon:"error",title:"Ooops...",text:"In password you need more than 8 elements and one number!"}):Swal.fire({icon:"error",title:"Ooops...",text:"Your email is incorrect"}):Swal.fire({icon:"error",title:"Ooops...",text:"Your name is incorect"}):Swal.fire({icon:"error",title:"Ooops...",text:"You provided incomplete information!"})}function isValidName(e){return/^([А-Я]{1}[а-яё]{1,23}|[A-Z]{1}[a-z]{1,})$/.test(e)}function isValidPassword(e){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e)}function isValidEmail(e){return/^((([0-9A-Za-z]{1}[-0-9A-z\.]{1,}[0-9A-Za-z]{1})|([0-9А-Яа-я]{1}[-0-9А-я\.]{1,}[0-9А-Яа-я]{1}))@([-A-Za-z]{1,}\.){1,2}[-A-Za-z]{2,})$/.test(e)}const savePerson=(e,t)=>{let n=document.getElementById("crud");if(t){for(userData[mainId].name=e.name,userData[mainId].password=e.password,userData[mainId].email=e.email,localStorage.setItem("users",JSON.stringify(userData));n.firstChild;)n.removeChild(n.firstChild);showUsers()}else{userData.push(e),localStorage.setItem("users",JSON.stringify(userData));e={nameLog:userData[userData.length-1].name,passwordLog:userData[userData.length-1].password,postlog:!0,entry:!0};localStorage.setItem("loginpers",JSON.stringify(e))}},checkLogin=()=>{var e=document.forms.inForm.elements;let t=!1;userDatLog={nameLog:e.username.value,passwordLog:e.password.value,postlog:!0,entry:!0},usersInfo=JSON.parse(localStorage.getItem("users"));for(let e=0;e<usersInfo.length;e++)usersInfo[e].name===userDatLog.nameLog&&usersInfo[e].password===userDatLog.passwordLog&&(showSignIn(),localStorage.setItem("loginpers",JSON.stringify(userDatLog)),document.getElementById("welcome").innerHTML="Welcome, "+userDatLog.nameLog,t=!0);t||Swal.fire({icon:"error",title:"Ooops...",text:"Your login/password are wrong!"})};function showUsers(){let s=document.getElementById("crud");s.innerHTML=`
    <table id="crud-table">
        <tr>
            <td class="main-td">ID</td>
            <td class="main-td">NAME</td>
            <td class="main-td" id="email-table">EMAIL</td>
            <td class="main-td" id="action-table">ACTION</td>
         </tr>
    </table>
    `;for(let n=0;n<userData.length;n++){const d=document.getElementById("crud-table"),o=document.createElement("tr");o.setAttribute("data-id",n),d.appendChild(o);let e=document.createElement("div");e.innerHTML=n+1;const i=document.createElement("td");i.appendChild(e),o.appendChild(i);let t=document.createElement("div");t.innerHTML=""+userData[n].name;const r=document.createElement("td");if(r.appendChild(t),o.appendChild(r),JSON.parse(localStorage.getItem("loginpers")).postlog)document.getElementById("email-table").classList.add("hidden"),document.getElementById("action-table").classList.add("hidden");else{let e=document.createElement("div");e.innerHTML=""+userData[n].email;const c=document.createElement("td");c.appendChild(e),o.appendChild(c);var a=document.createElement("td");showBtn(n,s,o,a)}}}function showBtn(t,n,s,e){let a=document.createElement("div");a.setAttribute("data-btn",t),a.classList.add("button");let d=document.createElement("a");d.setAttribute("id","view-btn"),d.innerHTML="View",d.addEventListener("click",function(){var e=s.getAttribute("data-id"),t=JSON.parse(localStorage.getItem("users"));t[e].bought?showBought(t[e].bought,t[e].name):Swal.fire({icon:"question",title:"Oops...",text:"We have no info about this person"})});let o=document.createElement("a");o.setAttribute("id","remove-btn"),o.innerHTML="Del",o.addEventListener("click",function(){Swal.fire({title:"Are you sure?",text:"You want to delete this person!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!"}).then(e=>{e.isConfirmed?(Swal.fire("Congrat!","Your have deleted this person","success"),e=s.getAttribute("data-id"),n.innerHTML="",userData.splice(e,1),localStorage.setItem("users",JSON.stringify(userData)),showUsers(),localStorage.removeItem("loginpers",JSON.stringify()),document.getElementById("mainMenu").classList.add("hidden"),document.getElementById("loginNav").classList.remove("hidden"),unhideElements(),document.getElementById("crud").innerHTML="",document.getElementById("back-wrapper").classList.add("hidden")):Swal.fire("You are still here!")})});let i=document.createElement("a");i.setAttribute("id","edit-btn"),i.innerHTML="Edit",i.addEventListener("click",function(){let e=document.getElementById("form-crud");document.getElementById("crudframe").classList.add("framecrud"),document.getElementById("crudframe").classList.remove("hidden"),e.classList.remove("hidden"),mainId=s.getAttribute("data-id"),document.getElementById("editform").innerHTML="Edit form of "+userData[t].name,e.elements.username.value=userData[t].name,e.elements.email.value=userData[t].email,e.elements.password.value=userData[t].password}),s.appendChild(e),e.appendChild(a),a.appendChild(d),a.appendChild(i),a.appendChild(o)}const showBought=(t,n)=>{const e=document.getElementById("chose-car");e.innerHTML=`
    <div id="close-btn" class="close">
        <i class="fas fa-times"></i>
    </div>
    `,e.classList.remove("hidden"),document.getElementById("close-btn").addEventListener("click",function(){e.classList.add("hidden")});JSON.parse(localStorage.getItem("users"));const s=document.createElement("div");s.classList.add("info-buy-wrapper"),e.appendChild(s);for(let e=0;e<t.length;e++){const a=document.createElement("div");a.classList.add("bought-text"),a.innerHTML=n+" have bought "+t[e].countName+" "+t[e].carName+" "+t[e].detailName+" from "+t[e].orderedName,s.appendChild(a)}};
function Manager(i,n){this.admin=i,this.sold=n}
function User(s,i,t,h){this.name=s,this.email=i,this.password=t,this.post=h}
const users=[new User("Jack","example@mail.com","qwertyewq321",!0),new User("Bob","example@mail.com","qwertyewq321",!0),new User("Frank","example@mail.com","qwertyewq321",!0)];